<div style="border:1px solid; height:74%" >
    <div style="margin-bottom:-30px; border:1px solid; padding:10px;">
        <span> Show Local Version: </span>
        <toggle-switch ng-model="toggleflag" ng-style="{'background-color':((toggleflag==true)?'#5cb85c':'#f0f0f0')}" on-label="" off-label="" style="margin-bottom:-10px;"></toggle-switch>
    </div>
    <div ng-if="!toggleflag" >
        <div ng-if="taskData.odtLink">
            <a ng-href="{{taskData.odtLink}}" target="_blank" class="pull-right" style="padding-right:20px;">Open the server version of this task in a new browser tab</a><br/>
            <div style="width:100%;">
                <iframe ng-src="{{taskData.odtLink}}" style="width:100%; height:87%; margin-top:10px; border:1px solid black;" ng-show='autoloadTasks'></iframe>
                <div ng-hide="autoloadTasks">
                    <button ng-click="loadchange()" style="margin: 20% 40%;">Load Tasks from Server</button>
                </div>
            </div>
        </div>
        <div ng-if="!taskData.odtLink" style="padding-top: 40px; padding-left: 20px; padding-right: 20px;">
            <div class="alert alert-danger" role="alert">
                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                <b>There is no ODT file for this task.</b>
            </div>
        </div>
    </div>
    <div ng-if="toggleflag">
        <div ng-if="taskData.otherOdtLink">
            <a ng-href="file:///{{trust(taskData.otherOdtLink)}}" target="_blank" class="pull-right" style="padding-right:20px;" ng-show="!httpflag">Open your local copy of this task in a new browser tab</a>
            <a ng-href="{{trust(taskData.otherOdtLink)}}" target="_blank" class="pull-right" style="padding-right:20px;" ng-show="httpflag">Open your local copy of this task in a new browser tab</a><br/>
            <div style="text-align:center;" ng-show="!httpflag">
                <p style="margin:10% 33% 2%">
                For security reasons, a file://url can't be loaded directly or even linked to. Copy the link below and paste it a new tab to load the task.
                </p>
                <a ng-href="'file://' + trust(taskData.otherOdtLink)" target="_blank" ><span>file:///{{trust(taskData.otherOdtLink)}}</span></a>
                <br/>
                <br/>
                <input type="text" value="{{'file://' + trust(taskData.otherOdtLink) }}" class="ab"  style="display:none;">
                <button onclick="copylink()">
                Copy this link
                </button>
            </div>
            <div style="width:100%;" ng-show="httpflag">
                <iframe ng-src="{{trust(taskData.otherOdtLink)}}" style="width:100%; height:87%; margin-top:10px; border:1px solid black;"></iframe>
            </div>
        </div>
        <div ng-if="!taskData.otherOdtLink" style="padding-top: 40px; padding-left: 20px; padding-right: 20px;">
            <div class="alert alert-danger" role="alert">
                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                <b>There is no ODT file for this task.</b>
            </div>
        </div>
    </div>
</div>
<script>
var copylink= function(){
    $('.ab').css("display","inline");
    $('.ab').select();
    document.execCommand ("copy");
    $('.ab').css("display","none");
}
</script>
